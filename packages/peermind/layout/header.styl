@import '../base/base'

nav .nav-wrapper
  display flex

  .logo
  .button-collapse
    margin 0
    padding 0 15px
    transition background-color 0.3s

    &:hover
      background-color rgba(0, 0, 0, 0.1)

    // Smaller logo is used in e-mail notifications.
    img
      width $navbar-height-mobile
      height $navbar-height-mobile

    @media $medium-and-up
      img
        width $navbar-height
        height $navbar-height

  .not-large-screen .notifications-menu-button
  .button-collapse
    padding 0 18px

  ul
  .logo
    // We do not want menu entries and logo to shrink at all. But title (.brand-logo)
    // should shrink as necessary, and use ellipsis to hide too long text.
    flex-shrink 0

  .brand-logo
    line-height $navbar-height-mobile
    margin 0
    padding 0 15px
    overflow hidden
    text-overflow ellipsis
    position static
    // We want title to be expanded as much as possible.
    flex-grow 1

    // We do not want title to be centered on smaller media.
    @media $medium-and-down
      left auto
      transform none

    @media $medium-and-up
      line-height $navbar-height

  // The menu button should be on the left.
  .button-collapse
    order -1

  .notifications-menu-item
    .dropdown-content
      max-height none
      // The following is added by dropdown code, so we set it here as
      // well to make sure the content has correct width from the beginning.
      white-space nowrap
      position absolute
      // We initially set it at 0 so that the content
      // has the full width from the beginning.
      left 0

    .notifications-menu-button
      // To make the button an offset parent which allows us to
      // position count of notifications relativelly to it.
      position relative

    .notifications-count
      position absolute
      line-height 1rem
      margin-left 0
      min-width 0
      padding 1px 3px
      right 6px
      bottom 50%
      height initial

      &:after
        content ""

    .notifications-see-all
      text-align center
      min-height 0

      a
        font-size 1rem
        padding 0.5rem 0

        &:hover
          background-color transparent

    .notifications-wrapper
      overflow-y auto
      border-bottom 1px solid $collection-border-color
      max-width 400px
      white-space normal
      cursor auto

      &:hover
        background-color transparent

      .collection-item
        i.material-icons
          display inline

        i.tiny
          font-size 1rem
          line-height 1

        a
          color $link-color
          transition none
          display inline
          padding 0

          &:hover
            background-color transparent

      a.collection-item:hover
        background-color $dropdown-hover-bg-color

      .col
        padding 0

      .row
        margin 0

      .collection
        margin 0

      .author
      .link
        font-weight 500

      .loading
        position static

        .progress
          margin 0

      .finished-loading
        position static

        .col
          padding 0.5rem 0
          font-size 1rem
          line-height 22px
          border-top 1px solid $collection-border-color
          color: $grey.base

  ul
    .signed-in-menu-item img
      float right
      margin-left 8px
      margin-top 12px
      height 32px
      width 32px
      border-radius 50%

      @media $medium-and-up
        margin-top (($navbar-height - @height) / 2)

    .static
      font-size 1rem
      color $navbar-font-color
      display block
      padding 0 15px

  .side-nav
    .divider
      margin 0

    li.signed-in-menu-item
      background-color $secondary-color
      height $navbar-height-mobile
      line-height $navbar-height-mobile
      padding 0 $sidenav-padding
      display flex

      .username
        overflow hidden
        text-overflow ellipsis
        white-space nowrap

      img
        float none
        flex-shrink 0

      @media $medium-and-up
        height $navbar-height
        line-height $navbar-height

    .static
      color $sidenav-font-color-no-action
      height $sidenav-item-height
      line-height $sidenav-item-height
      padding 0 $sidenav-padding
